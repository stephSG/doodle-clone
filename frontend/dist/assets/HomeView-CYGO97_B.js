import{_ as z,o as L,a,c as r,b as t,n as l,d as x,w as g,e as T,v as N,F as E,r as F,t as i,f as c,g as u,h as m,i as H,j as P,u as S,k as A}from"./index-CwG20VuD.js";import{u as R}from"./polls-kV-Ki8I0.js";const I={key:0,class:"flex flex-col items-center justify-center min-h-screen"},Z={key:1,class:"p-6 pb-32 animate-in"},$={class:"flex justify-between items-center mb-10 mt-4"},Q={class:"relative mb-6"},U={class:"space-y-4"},q=["onClick"],G={class:"w-16 h-16 rounded-2xl bg-indigo-50 text-indigo-600 flex flex-col items-center justify-center font-bold shrink-0 transition-transform group-hover:rotate-2"},J={class:"text-[10px] uppercase tracking-widest opacity-70 mb-0.5"},K={class:"text-xl"},O={class:"flex-1 min-w-0"},W={class:"flex items-center gap-1.5"},X={key:0,class:"truncate flex items-center gap-1.5"},Y={key:0,class:"absolute top-0 right-0 bg-emerald-400 text-white text-[8px] font-black px-3 py-1 rounded-bl-xl uppercase tracking-widest shadow-sm flex items-center gap-1"},tt={key:0,class:"text-center py-20"},et={class:"text-xl font-bold mb-2 text-slate-800"},ot={class:"text-slate-400 mb-6 text-sm"},st={class:"fixed bottom-8 left-6 right-6 z-50 max-w-md mx-auto"},at={__name:"HomeView",setup(rt){const M=S(),C=R(),n=H(()=>document.documentElement.getAttribute("data-theme")==="dark"),h=m([]),p=m(!1),d=m("");let w=null;async function f(){p.value=!0;try{const s=await C.fetchPolls(d.value?{search:d.value}:{});h.value=s.polls||[]}catch(s){console.error("Error loading polls:",s)}finally{p.value=!1}}function j(){clearTimeout(w),w=setTimeout(()=>{f()},300)}function B(s){M.push(`/poll/${s}`)}function V(s){return s?new Date(s).toLocaleDateString("fr-FR",{month:"short"}).replace(".",""):"--"}function D(s){return s?new Date(s).getDate():"--"}return L(()=>{f()}),(s,e)=>{const v=P("router-link");return a(),r("div",{class:l(["min-h-screen max-w-md mx-auto shadow-[0_0_80px_rgba(0,0,0,0.03)] overflow-x-hidden relative transition-colors duration-300",n.value?"bg-slate-900":"bg-white"])},[p.value?(a(),r("div",I,[...e[1]||(e[1]=[t("div",{class:"relative w-16 h-16"},[t("div",{class:"absolute inset-0 border-[3px] border-indigo-50 rounded-full"}),t("div",{class:"absolute inset-0 border-[3px] border-indigo-600 rounded-full border-t-transparent animate-spin"})],-1),t("p",{class:"mt-6 text-indigo-600 font-bold tracking-wide animate-pulse"},"Chargement...",-1)])])):(a(),r("div",Z,[t("header",$,[t("div",null,[t("h1",{class:l(["text-4xl font-extrabold tracking-tight",n.value?"text-white":"text-slate-900"])},"Doodle",2),t("p",{class:l(["font-medium mt-1",(n.value,"text-slate-400")])},"Vos événements, simplifiés.",2)]),x(v,{to:"/create",class:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-violet-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-100 transition-transform active:scale-90"},{default:g(()=>[...e[2]||(e[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}),t("path",{d:"M5 3v4"}),t("path",{d:"M19 17v4"}),t("path",{d:"M3 5h4"}),t("path",{d:"M17 19h4"})],-1)])]),_:1})]),t("div",Q,[(a(),r("svg",{class:l(["w-5 h-5 absolute left-5 top-1/2 -translate-y-1/2",n.value?"text-slate-500":"text-slate-300"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...e[3]||(e[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])],2)),T(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),onInput:j,placeholder:"Rechercher un sondage...",class:l(["w-full h-14 pl-14 pr-6 rounded-2xl outline-none transition-all font-medium border-2 border-transparent",[n.value?"bg-slate-800 text-slate-200 placeholder:text-slate-500 focus:bg-slate-700 focus:border-indigo-500":"bg-slate-50 text-slate-600 placeholder:text-slate-300 focus:bg-white focus:border-indigo-100"]])},null,34),[[N,d.value]])]),t("div",U,[(a(!0),r(E,null,F(h.value,o=>{var b,k,_,y;return a(),r("div",{key:o.id,onClick:nt=>B(o.id),class:l(["group p-5 rounded-[32px] border transition-all cursor-pointer relative overflow-hidden flex items-center gap-5 active:scale-[0.98]",[n.value?"bg-slate-800 border-slate-700 hover:border-indigo-500":"bg-white border-slate-100 hover:border-indigo-100 hover:shadow-md"]])},[t("div",G,[t("span",J,i(V((k=(b=o.date_options)==null?void 0:b[0])==null?void 0:k.start_time)),1),t("span",K,i(D((y=(_=o.date_options)==null?void 0:_[0])==null?void 0:y.start_time)),1)]),t("div",O,[t("h3",{class:l(["font-bold text-lg leading-tight truncate group-hover:text-indigo-600 transition-colors",n.value?"text-white":"text-slate-800"])},i(o.title),3),o.description?(a(),r("p",{key:0,class:l(["text-sm mt-1 line-clamp-2 truncate",(n.value,"text-slate-400")])},i(o.description),3)):u("",!0),t("div",{class:l(["flex items-center gap-4 text-xs mt-2 font-semibold",n.value?"text-slate-500":"text-slate-400"])},[t("span",W,[e[4]||(e[4]=A('<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-400" data-v-b97a5204><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" data-v-b97a5204></path><circle cx="9" cy="7" r="4" data-v-b97a5204></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87" data-v-b97a5204></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-b97a5204></path></svg>',1)),c(" "+i(o.participant_count||0),1)]),o.location?(a(),r("span",X,[e[5]||(e[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-indigo-400"},[t("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),t("circle",{cx:"12",cy:"10",r:"3"})],-1)),c(" "+i(o.location),1)])):u("",!0)],2)]),e[7]||(e[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-slate-200 group-hover:text-indigo-300 transition-all shrink-0"},[t("path",{d:"m9 18 6-6-6-6"})],-1)),o.final_date?(a(),r("div",Y,[...e[6]||(e[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M5 13l4 4L19 7"})],-1),c(" Fixé ",-1)])])):u("",!0)],10,q)}),128)),h.value.length===0?(a(),r("div",tt,[e[9]||(e[9]=t("div",{class:"inline-block p-6 bg-slate-50 rounded-full mb-6"},[t("svg",{class:"w-16 h-16 text-slate-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})])],-1)),t("h3",et,i(d.value?"Aucun résultat":"Aucun sondage"),1),t("p",ot,i(d.value?"Essayez d'autres termes de recherche":"Créez votre premier sondage pour commencer"),1),x(v,{to:"/create",class:"inline-flex items-center gap-2 bg-indigo-600 text-white h-14 px-8 rounded-2xl font-bold shadow-xl shadow-indigo-100 active:scale-95 transition-all"},{default:g(()=>[...e[8]||(e[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M12 5v14"}),t("path",{d:"M5 12h14"})],-1),c(" Créer un sondage ",-1)])]),_:1})])):u("",!0)]),t("div",st,[x(v,{to:"/create",class:"w-full bg-slate-900 text-white h-16 rounded-2xl font-bold shadow-2xl flex items-center justify-center gap-3 active:scale-95 transition-all group relative overflow-hidden block"},{default:g(()=>[...e[10]||(e[10]=[t("div",{class:"absolute inset-0 bg-indigo-600 translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round",class:"relative z-10"},[t("path",{d:"M12 5v14"}),t("path",{d:"M5 12h14"})],-1),t("span",{class:"relative z-10"},"Créer un sondage",-1)])]),_:1})])]))],2)}}},dt=z(at,[["__scopeId","data-v-b97a5204"]]);export{dt as default};
